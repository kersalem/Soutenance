

A partir de ce fichier excel, on va suivre le cheminement d'un event en détaillant les différents status de B et du S. lorsqu'un évènement est "arrive/ est enclenché / pris en charge"

////////////////// Cheminement event
On va s'intéresser à l'évènement OpenMedia du 10 janv à 9h59
On distingue différentes catégories :

1-2    = Temps qui passe
3-5-6  = Etat du B. et du S. à l'instant T
4      = events du B. envoyés au speed

Colonne 1-2 : On va s'intéresser à l'évènement OpenMedia du 10 janv à 9h59
Colonne 3 : le B. travaille sur la plage horaire de l'origine jusqu'à 9h
Colonne 4 : Le B.est en cours de traitement sur cette heure (9h à 10h02) donc n'envoie pas d'event au S.
Colonne 5 : C'est le Current qui va traiter cet event car il travaille de 9h à 10h02
Colonne 6 : Puisque le previous a travaillé de 8h à 9h

Si l'event est déclenché à 10h
le B. va envoyer l'event "Starting computing BL" au speed qui va autoriser le switch des données du current au previous et vider le current // Autoriser le changement de buffer
ici le S. current travaille désormais de 10h à maintenant le previous de 9h à 10h

Si l'envent arrive à 10h02 le B. va envoyer l'event Compured qui va "faire sauter" le previous et travaille uniquement le current

Si l'event arrive à 10h15 c'est le speedLayer current qui va prendre en charge ce nouvel event


////////////////// Cheminement requête à 9h59
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 9h59
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 9h00 et les infos récoltées du S. current de 9h à maintenant

////////////////// Cheminement requête à 10h00
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 10h00
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 9h00, les infos récoltées du S. previous de 9h à 10h et les infos du S current de 10h à maintenant

sachant qu'à ce moment là le B. envoie l'event Starting Computing BL au S. ce qui permet de spécifier au S. que la période de 9h à 10h n'est pas prise en charge par le B.

////////////////// Cheminement requête à 10h01
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 10h01
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 9h00, les infos récoltées du S. previous de 9h à 10h et les infos du S current de 10h à maintenant

////////////////// Cheminement requête à 10h02
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 10h02
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 10h00 et les infos du S current de 10h à maintenant

sachant qu'à ce moment là le B. evoie l'event BL computed au S. ce qui permet de ne plus se baser sur le previous puisque le B. a pris le relais

////////////////// Cheminement requête à 10h15
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 10h15
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 10h00 et les infos du S current de 10h à maintenant

////////////////// Cheminement requête à 10h59
Colonne 1 : Une requête est lancé sur les 3O derniers jours
Colonne 2 : La période concernée est de J-29 0h00 à auj 10h59
Colonne 3 : On récupère les infos du B. de j-29 0h00 à 10h00 et les infos du S current de 10h à maintenant








////////////////////////////////////NOTES
Voici un fichier excel qui permet de visualiser .... pour un event donnée
1. ce qui se passe lorsqu'un event est pris en charge à un instant T. ex openMedia / repercution du B. et du S. (current/ previous) cad dire détail de l'état du B et S. à ce moment là.
2. ce qui se passe lorsqu'une query est traitée ex . combien de média ont été consultés sur les 30 derniers jours.

On peut catégoriser les colonnes :
A/B = temps qui passe
C/E/F =
D = envent du B. envoyé au speed

G/H/I = query


Starting Computing BL = switch previous - current
BL Compured = calcul B. terminé

origine du démarrage du B; pour le systeme (première agregation dans le B.)

